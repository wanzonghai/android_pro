var __reflect=this&&this.__reflect||function(e,t,i){e.__class__=t,i?i.push(t):i=[t],e.__types__=e.__types__?i.concat(e.__types__):i},__extends=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);i.prototype=t.prototype,e.prototype=new i},__awaiter=this&&this.__awaiter||function(e,t,i,s){return new(i||(i=Promise))(function(m,r){function n(e){try{_(s.next(e))}catch(t){r(t)}}function d(e){try{_(s["throw"](e))}catch(t){r(t)}}function _(e){e.done?m(e.value):new i(function(t){t(e.value)}).then(n,d)}_((s=s.apply(e,t||[])).next())})},__generator=this&&this.__generator||function(e,t){function i(e){return function(t){return s([e,t])}}function s(i){if(m)throw new TypeError("Generator is already executing.");for(;_;)try{if(m=1,r&&(n=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[0,n.value]),i[0]){case 0:case 1:n=i;break;case 4:return _.label++,{value:i[1],done:!1};case 5:_.label++,r=i[1],i=[0];continue;case 7:i=_.ops.pop(),_.trys.pop();continue;default:if(n=_.trys,!(n=n.length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){_=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){_.label=i[1];break}if(6===i[0]&&_.label<n[1]){_.label=n[1],n=i;break}if(n&&_.label<n[2]){_.label=n[2],_.ops.push(i);break}n[2]&&_.ops.pop(),_.trys.pop();continue}i=t.call(e,_)}catch(s){i=[6,s],r=0}finally{m=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var m,r,n,d,_={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return d={next:i(0),"throw":i(1),"return":i(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d},AssetAdapter=function(){function e(){}return e.prototype.getAsset=function(e,t,i){function s(s){t.call(i,s,e)}if(RES.hasRes(e)){var m=RES.getRes(e);m?s(m):RES.getResAsync(e,s,this)}else RES.getResByUrl(e,s,this,RES.ResourceItem.TYPE_IMAGE)},e}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var Main=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this),egret.lifecycle.addLifecycleListener(function(e){}),egret.lifecycle.onPause=function(){egret.ticker.pause()},egret.lifecycle.onResume=function(){egret.ticker.resume()};var t=new AssetAdapter;egret.registerImplementation("eui.IAssetAdapter",t),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),this.runGame()["catch"](function(e){console.log(e)})},t.prototype.runGame=function(){return __awaiter(this,void 0,void 0,function(){var e,t;return __generator(this,function(i){switch(i.label){case 0:return[4,this.loadResource()];case 1:return i.sent(),this.createGameScene(),[4,RES.getResAsync("description_json")];case 2:return e=i.sent(),[4,platform.login()];case 3:return i.sent(),[4,platform.getUserInfo()];case 4:return t=i.sent(),[2]}})})},t.prototype.loadResource=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(t){switch(t.label){case 0:return t.trys.push([0,4,,5]),[4,RES.loadConfig("resource/default.res.json","resource/")];case 1:return t.sent(),[4,this.loadTheme()];case 2:return t.sent(),[4,RES.loadGroup("preload")];case 3:return t.sent(),[3,5];case 4:return e=t.sent(),console.error(e),[3,5];case 5:return[2]}})})},t.prototype.loadTheme=function(){var e=this;return new Promise(function(t,i){var s=new eui.Theme("resource/default.thm.json",e.stage);s.addEventListener(eui.UIEvent.COMPLETE,function(){t()},e)})},t.prototype.createGameScene=function(){var e=new MixedMain;this.addChild(e)},t.prototype.createBitmapByName=function(e){var t=new egret.Bitmap,i=RES.getRes(e);return t.texture=i,t},t.prototype.startAnimation=function(e){},t.prototype.onButtonClick=function(e){var t=new eui.Panel;t.title="Title",t.horizontalCenter=0,t.verticalCenter=0,this.addChild(t)},t}(eui.UILayer);__reflect(Main.prototype,"Main");var MixedItems=function(){function e(e,t,i,s,m){this.mixed__target=0,this.mixed__finishTarget=!0,this.mixed__curRoll=0,this.mixed__runFrame=0,this.mixed__subRount=0,this.mixed__callback=null,this.mixed__mx=0,this.mixed__ma=0,this.mixed__mt=1,this.mixed_Items=[],this.mixed__itemHeight=170,this.mixed__slotItemNum=6,this.mixed__addSpeedFrame=94,this.mixed__thisObj=null,this.mixed__subSpeedRount=49,this.mixed__maxSpeed=206,this.mixed_Items.push(e),this.mixed_Items.push(t),this.mixed_Items.push(i),this.mixed_Items.push(s),this.mixed_Items.push(m),this.mixed__curRoll=0,this.mixed_UpdateItem(0,!0)}return e.prototype.mixed_NextVal=function(e,t){var i=0;return i=0>e?0==t?Number(this.mixed_Items[1].name)-1:1==t?Number(this.mixed_Items[2].name)-1:2==t?Number(this.mixed_Items[3].name)-1:3==t?Number(this.mixed_Items[4].name)-1:Number(this.mixed_Items[0].name)-1:0==t?Number(this.mixed_Items[4].name)+1:1==t?Number(this.mixed_Items[0].name)+1:2==t?Number(this.mixed_Items[1].name)+1:3==t?Number(this.mixed_Items[2].name)+1:4==t?Number(this.mixed_Items[3].name)+1:Number(this.mixed_Items[1].name)+1,i=(i+this.mixed__slotItemNum)%this.mixed__slotItemNum},e.prototype.mixed_Lerp=function(e,t,i){return i=0>i?0:i,i=i>1?1:i,e+(t-e)*i},e.prototype.mixed_OnUpdate=function(){if(!this.mixed__finishTarget){var e=this.mixed_GetMoveStep();this.mixed_UpdateItem(e),0==e&&this.mixed__runFrame>this.mixed__addSpeedFrame&&(this.mixed__finishTarget=!0,this.mixed__callback(this.mixed__thisObj)),this.mixed__runFrame++}},e.prototype.mixed_Stop=function(){this.mixed__finishTarget=!0},e.prototype.mixed_GetMoveStep=function(){if(this.mixed__runFrame<this.mixed__addSpeedFrame)return this.mixed_Lerp(0,this.mixed__maxSpeed,this.mixed__runFrame/this.mixed__addSpeedFrame);if(this.mixed__runFrame==this.mixed__addSpeedFrame){var e=this.mixed__itemHeight*this.mixed__slotItemNum;if(this.mixed__curRoll<0?this.mixed__mx=-(e+this.mixed__curRoll%e)-(this.mixed__slotItemNum-this.mixed__target)*this.mixed__itemHeight-this.mixed__subRount*e:this.mixed__mx=e-this.mixed__curRoll%e+this.mixed__target*this.mixed__itemHeight+this.mixed__subRount*e,this.mixed__ma=this.mixed__maxSpeed*this.mixed__maxSpeed/(2*this.mixed__mx),this.mixed__mt=this.mixed__maxSpeed/this.mixed__ma,this.mixed__mt<0)return 0;this.mixed__mt-=1}if(this.mixed__runFrame-this.mixed__addSpeedFrame>this.mixed__mt&&this.mixed__runFrame-this.mixed__addSpeedFrame<this.mixed__mt+1)return this.mixed__mx;var t=this.mixed_Lerp(this.mixed__maxSpeed,0,(this.mixed__runFrame-this.mixed__addSpeedFrame)/this.mixed__mt);return this.mixed__mx-=t,t},e.prototype.mixed_UpdateItem=function(e,t){void 0===t&&(t=!1),this.mixed__curRoll+=e;for(var i=Math.round(this.mixed_GetCurNum()),s=Math.floor(this.mixed_Items.length/2),m=0;m<this.mixed_Items.length;m++){var r=this.mixed_Items[m].y;this.mixed_Items[m].y=this.mixed__curRoll+(s-m)*this.mixed__itemHeight;var n=this.mixed_Items[m].y,d=this.mixed__itemHeight*this.mixed_Items.length;Math.abs(n)>d/2&&(n-=Math.round(n/d)*d),this.mixed_Items[m].y=n,t&&this.mixed_SetItemPic(this.mixed_Items[m],i+m-s),r*this.mixed_Items[m].y<0&&e*r>0&&this.mixed_SetItemPic(this.mixed_Items[m],this.mixed_NextVal(e,m))}},e.prototype.mixed_getRandomNumberInt=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},e.prototype.mixed_GetValue=function(e){return e%this.mixed__slotItemNum>0?e%this.mixed__slotItemNum:e%this.mixed__slotItemNum+this.mixed__slotItemNum},e.prototype.mixed_Play=function(e,t,i,s){this.mixed__callback=i,this.mixed__thisObj=s,this.mixed__subRount=e+this.mixed__subSpeedRount,this.mixed__target=this.mixed_GetValue(t),this.mixed__finishTarget=!1,this.mixed__runFrame=0},e.prototype.mixed_SetItemPic=function(e,t){t=this.mixed_GetValue(t);var i=Math.floor(6*Math.random()+1);e.source=RES.getRes("mixedItem"+i+"_png"),e.name=this.mixed_GetValue(t).toString()},e.prototype.mixed_GetCurNum=function(){return this.mixed__curRoll<0?(this.mixed__slotItemNum+this.mixed__curRoll%(this.mixed__itemHeight*this.mixed__slotItemNum)/this.mixed__itemHeight)%this.mixed__slotItemNum:this.mixed__curRoll%(this.mixed__itemHeight*this.mixed__slotItemNum)/this.mixed__itemHeight},e}();__reflect(MixedItems.prototype,"MixedItems");var MixedMain=function(e){function t(){var t=e.call(this)||this;return t.mixed_Items=[],t.mixed_gameState=5500,t.mixed_ResultCount=20,t.mixed_timerNum=1e3,t.mixed_currendSpeed=4,t.skinName="mixedSkin111",t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.initmixedSlots()},t.prototype.initmixedSlots=function(){var e=new MixedItems(this.mixedItem0,this.mixedItem1,this.mixedItem2,this.mixedItem3,this.mixedItem4),t=new MixedItems(this.mixedItem5,this.mixedItem6,this.mixedItem7,this.mixedItem8,this.mixedItem9),i=new MixedItems(this.mixedItem10,this.mixedItem11,this.mixedItem12,this.mixedItem13,this.mixedItem14),s=new MixedItems(this.mixedItem15,this.mixedItem16,this.mixedItem17,this.mixedItem18,this.mixedItem19),m=new MixedItems(this.mixedItem20,this.mixedItem21,this.mixedItem22,this.mixedItem23,this.mixedItem24);this.mixedItemG0.mask=this.mixedRect0,this.mixedItemG1.mask=this.mixedRect1,this.mixedItemG2.mask=this.mixedRect2,this.mixedItemG3.mask=this.mixedRect3,this.mixedItemG4.mask=this.mixedRect4,this.mixed_Items.push(e),this.mixed_Items.push(t),this.mixed_Items.push(i),this.mixed_Items.push(s),this.mixed_Items.push(m),egret.MainContext.instance.stage.addEventListener(egret.Event.RESIZE,this.mixedFitScreen,this),this.mixedFitScreen(),this.mixed_start.addEventListener(egret.TouchEvent.TOUCH_TAP,this.mixedStartGame,this)},t.prototype.mixedStartGame=function(){5500==this.mixed_gameState&&(this.mixed_gameState=5501,this.mixed_ResultCount=20,this.mixed_timerNum=1e3,this.mixed_onUpdate(),this.mixed_Items[0].mixed_Play(6,2,this.mixed_OnRollFinish,this),this.mixed_Items[1].mixed_Play(7,2,this.mixed_OnRollFinish,this),this.mixed_Items[2].mixed_Play(8,2,this.mixed_OnRollFinish,this),this.mixed_Items[3].mixed_Play(9,2,this.mixed_OnRollFinish,this),this.mixed_Items[4].mixed_Play(10,2,this.mixed_OnRollFinish,this))},t.prototype.mixed_onUpdate=function(){var e=this;egret.setTimeout(function(){for(var t=0;t<e.mixed_Items.length;t++)e.mixed_Items[t].mixed_OnUpdate();e.mixed_timerNum<66003&&(e.mixed_onUpdate(),e.mixed_timerNum=e.mixed_timerNum+1)},this,this.mixed_currendSpeed)},t.prototype.mixed_OnRollFinish=function(e){var t=e;t.mixed_ResultCount=t.mixed_ResultCount+1,t.mixed_ResultCount>=t.mixed_Items.length+13&&(t.mixed_timerNum=66009,t.mixed_gameState=5500)},t.prototype.mixedFitScreen=function(){var e=egret.MainContext.instance.stage.stageWidth;this.mixedGroup0.width=e,this.mixedGroup1.x=e/2,this.mixedbg.width=e},t}(eui.Component);__reflect(MixedMain.prototype,"MixedMain");var DebugPlatform=function(){function e(){}return e.prototype.getUserInfo=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2,{nickName:"username"}]})})},e.prototype.login=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e}();__reflect(DebugPlatform.prototype,"DebugPlatform",["Platform"]),window.platform||(window.platform=new DebugPlatform);var ThemeAdapter=function(){function e(){}return e.prototype.getTheme=function(e,t,i,s){function m(e){t.call(s,e)}function r(t){t.resItem.url==e&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),i.call(s))}var n=this;if("undefined"!=typeof generateEUI)egret.callLater(function(){t.call(s,generateEUI)},this);else if("undefined"!=typeof generateEUI2)RES.getResByUrl("resource/gameEui.json",function(e,i){window.JSONParseClass.setData(e),egret.callLater(function(){t.call(s,generateEUI2)},n)},this,RES.ResourceItem.TYPE_JSON);else if("undefined"!=typeof generateJSON)if(e.indexOf(".exml")>-1){var d=e.split("/");d.pop();var _=d.join("/")+"_EUI.json";generateJSON.paths[e]?egret.callLater(function(){t.call(s,generateJSON.paths[e])},this):RES.getResByUrl(_,function(i){window.JSONParseClass.setData(i),egret.callLater(function(){t.call(s,generateJSON.paths[e])},n)},this,RES.ResourceItem.TYPE_JSON)}else egret.callLater(function(){t.call(s,generateJSON)},this);else RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),RES.getResByUrl(e,m,this,RES.ResourceItem.TYPE_TEXT)},e}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var trerewweqdf=function(e){function t(){var t=e.call(this)||this;return t.createView(),t}return __extends(t,e),t.prototype.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=200,this.textField.width=180,this.textField.height=300,this.textField.textAlign="center"},t.prototype.onProgress=function(e,t){this.textField.text="fdsfsd..."+e+"/"+t},t}(egret.Sprite);__reflect(trerewweqdf.prototype,"trerewweqdf",["RES.PromiseTaskReporter"]);